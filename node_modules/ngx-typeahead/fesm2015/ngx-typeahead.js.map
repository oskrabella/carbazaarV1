{"version":3,"file":"ngx-typeahead.js","sources":["ng://ngx-typeahead/lib/models.ts","ng://ngx-typeahead/lib/ngx-typeahead.utils.ts","ng://ngx-typeahead/lib/ngx-typeahead.component.ts","ng://ngx-typeahead/lib/ngx-typeahead.module.ts","ng://ngx-typeahead/public-api.ts","ng://ngx-typeahead/ngx-typeahead.ts"],"sourcesContent":["export enum Key {\n  Backspace = 'Backspace',\n  Tab = 'Tab',\n  Enter = 'Enter',\n  ShiftLeft = 'ShiftLeft',\n  ShiftRight = 'ShiftRight',\n  Escape = 'Escape',\n  ArrowLeft = 'ArrowLeft',\n  ArrowRight = 'ArrowRight',\n  ArrowUp = 'ArrowUp',\n  ArrowDown = 'ArrowDown',\n  // http://unixpapa.com/js/key.html\n  MetaLeft = 'MetaLeft',\n  MetaRight = 'MetaRight',\n}\n","import { HttpParams } from '@angular/common/http';\nimport { Key } from './models';\n\nexport function validateNonCharKeyCode(keyCode: string) {\n  return [\n    Key.Enter,\n    Key.Tab,\n    Key.ShiftLeft,\n    Key.ShiftRight,\n    Key.ArrowLeft,\n    Key.ArrowUp,\n    Key.ArrowRight,\n    Key.ArrowDown,\n    Key.MetaLeft,\n    Key.MetaRight,\n  ].every((codeKey) => codeKey !== keyCode);\n}\n\nexport function validateArrowKeys(keyCode: string) {\n  return keyCode === Key.ArrowDown || keyCode === Key.ArrowUp;\n}\n\nexport function isIndexActive(index: number, currentIndex: number) {\n  return index === currentIndex;\n}\n\nexport function isEnterKey(event: KeyboardEvent) {\n  return event.code === Key.Enter;\n}\n\nexport function isEscapeKey(event: KeyboardEvent) {\n  // tslint:disable-next-line: deprecation\n  return event.code === Key.Escape;\n}\n\nexport function createParamsForQuery(\n  query: string,\n  queryParamKey = 'q',\n  customParams = {}\n) {\n  const searchParams = {\n    [queryParamKey]: query,\n    ...customParams,\n  };\n  // tslint:disable-next-line\n  const setParam = (acc: HttpParams, param: string) =>\n    acc.set(param, searchParams[param]);\n  const params = Object.keys(searchParams).reduce(setParam, new HttpParams());\n  return params;\n}\n\nexport function resolveApiMethod(method = '') {\n  const isMethodValid = [\n    'get',\n    'post',\n    'put',\n    'delete',\n    'patch',\n    'request',\n  ].some((methodName) => method === methodName);\n  const apiMethod = isMethodValid ? method : 'get';\n  return apiMethod;\n}\nexport const NO_INDEX = -1;\nexport function resolveNextIndex(\n  currentIndex: number,\n  stepUp: boolean,\n  listLength = 10\n) {\n  const step = stepUp ? 1 : -1;\n  const topLimit = listLength - 1;\n  const bottomLimit = NO_INDEX;\n  const currentResultIndex = currentIndex + step;\n  let resultIndex = currentResultIndex;\n  if (currentResultIndex === topLimit + 1) {\n    resultIndex = bottomLimit;\n  }\n  if (currentResultIndex === bottomLimit - 1) {\n    resultIndex = topLimit;\n  }\n  return resultIndex;\n}\n\nexport function toJsonpSingleResult(response: any) {\n  return response[1];\n}\n\nexport function toJsonpFinalResults(results: any[]) {\n  return results.map((result: any) => result[0]);\n}\n\nexport function hasCharacters(query: string) {\n  return query.length > 0;\n}\n\nexport function toFormControlValue(e: any) {\n  return e.target.value;\n}\n\nexport function resolveItemValue(\n  item: string | any,\n  fieldsToExtract: string[],\n  caseSensitive = false\n) {\n  let newItem = item;\n  if (!item.hasOwnProperty('length')) {\n    const fields = !fieldsToExtract.length\n      ? Object.keys(item)\n      : fieldsToExtract;\n    newItem = fields.reduce((acc, cur) => `${acc}${item[cur]}`, '');\n  }\n  return caseSensitive ? newItem : newItem.toLowerCase();\n}\n","import { HttpClient } from '@angular/common/http';\nimport {\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport { of, Observable, Subject, Subscription } from 'rxjs';\nimport {\n  concat,\n  debounceTime,\n  distinctUntilChanged,\n  filter,\n  map,\n  switchMap,\n  tap,\n} from 'rxjs/operators';\nimport { Key } from './models';\nimport {\n  createParamsForQuery,\n  hasCharacters,\n  isEnterKey,\n  isEscapeKey,\n  isIndexActive,\n  resolveApiMethod,\n  resolveNextIndex,\n  toFormControlValue,\n  toJsonpFinalResults,\n  toJsonpSingleResult,\n  validateArrowKeys,\n  validateNonCharKeyCode,\n  resolveItemValue,\n  NO_INDEX,\n} from './ngx-typeahead.utils';\n\n/*\n using an external template:\n <input [taItemTpl]=\"itemTpl\" >\n\n  <ng-template #itemTpl let-result>\n    <strong>MY {{ result.result }}</strong>\n  </ng-template>\n*/\n@Component({\n  // tslint:disable-next-line: component-selector\n  selector: 'ngx-typeahead, [ngxTypeahead]',\n  styles: [\n    `\n      .ta-results {\n        position: absolute;\n      }\n      .ta-backdrop {\n        bottom: 0;\n        left: 0;\n        position: fixed;\n        right: 0;\n        top: 0;\n        z-index: 1;\n      }\n      .ta-item {\n        position: relative;\n        z-index: 2;\n        display: block;\n      }\n    `,\n  ],\n  template: `\n    <ng-template #suggestionsTplRef>\n      <section class=\"ta-results list-group\" *ngIf=\"showSuggestions\">\n        <div class=\"ta-backdrop\" (click)=\"hideSuggestions()\"></div>\n        <button\n          type=\"button\"\n          class=\"ta-item list-group-item\"\n          *ngFor=\"let result of results; let i = index\"\n          [class.active]=\"markIsActive(i, result)\"\n          (click)=\"handleSelectionClick(result, i)\"\n        >\n          <span *ngIf=\"!taItemTpl\"\n            ><i class=\"fa fa-search\"></i> {{ result }}</span\n          >\n          <ng-template\n            [ngTemplateOutlet]=\"taItemTpl\"\n            [ngTemplateOutletContext]=\"{\n              $implicit: { result: result, index: i }\n            }\"\n          ></ng-template>\n        </button>\n      </section>\n    </ng-template>\n  `,\n})\nexport class NgxTypeAheadComponent implements OnInit, OnDestroy {\n  showSuggestions = false;\n  results: string[] = [];\n\n  @Input()\n  taItemTpl!: TemplateRef<any>;\n  @Input()\n  taUrl = '';\n  @Input()\n  taParams = {};\n  @Input()\n  taQueryParam = 'q';\n  @Input()\n  taCallbackParamValue;\n  @Input()\n  taApi = 'jsonp';\n  @Input()\n  taApiMethod = 'get';\n  @Input()\n  taList = [];\n  @Input()\n  taListItemField = [];\n  @Input()\n  taListItemLabel = '';\n  @Input()\n  taDebounce = 300;\n  @Input()\n  taAllowEmpty = false;\n  @Input()\n  taCaseSensitive = false;\n  @Input()\n  taDisplayOnFocus = false;\n\n  @Output()\n  taSelected = new EventEmitter<string | any>();\n\n  @ViewChild(TemplateRef, { static: true })\n  suggestionsTplRef: TemplateRef<any>;\n\n  private suggestionIndex = 0;\n  private subscriptions: Subscription[] = [];\n  private activeResult = '';\n  private searchQuery = '';\n  private selectedItem: any = {};\n  private resultsAsItems: any[] = [];\n  private keydown$ = new Subject<KeyboardEvent>();\n  private keyup$ = new Subject<KeyboardEvent>();\n\n  constructor(\n    private element: ElementRef,\n    private viewContainer: ViewContainerRef,\n    private http: HttpClient,\n    private cdr: ChangeDetectorRef\n  ) {}\n\n  @HostListener('keydown', ['$event'])\n  handleEsc(event: KeyboardEvent) {\n    if (isEscapeKey(event)) {\n      this.hideSuggestions();\n      event.preventDefault();\n    }\n    this.keydown$.next(event);\n  }\n\n  @HostListener('keyup', ['$event'])\n  onkeyup(event: KeyboardEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.keyup$.next(event);\n  }\n\n  @HostListener('click')\n  onClick() {\n    if (this.taDisplayOnFocus) {\n      this.displaySuggestions();\n    }\n  }\n\n  ngOnInit() {\n    this.filterEnterEvent(this.keydown$);\n    this.listenAndSuggest(this.keyup$);\n    this.navigateWithArrows(this.keydown$);\n    this.renderTemplate();\n  }\n\n  ngOnDestroy() {\n    this.keydown$.complete();\n    this.keyup$.complete();\n  }\n\n  renderTemplate() {\n    if (!this.suggestionsTplRef) {\n      console.error('NO NGXTA Template Found. Requires NG9');\n      return;\n    }\n    this.viewContainer.createEmbeddedView(this.suggestionsTplRef);\n    this.cdr.markForCheck();\n  }\n\n  listenAndSuggest(obs: Subject<KeyboardEvent>) {\n    obs\n      .pipe(\n        // tslint:disable-next-line: deprecation\n        filter((e: KeyboardEvent) => validateNonCharKeyCode(e.code)),\n        map(toFormControlValue),\n        debounceTime(this.taDebounce),\n        // tslint:disable-next-line: deprecation\n        concat(),\n        distinctUntilChanged(),\n        filter((query: string) => this.taAllowEmpty || hasCharacters(query)),\n        tap((query: string) => (this.searchQuery = query)),\n        switchMap((query: string) => this.suggest(query))\n      )\n      .subscribe((results: string[] | any) => {\n        this.assignResults(results);\n        // this.updateIndex(Key.ArrowDown);\n        this.displaySuggestions();\n      });\n  }\n\n  assignResults(results: any[]) {\n    const labelForDisplay = this.taListItemLabel;\n    this.resultsAsItems = results;\n    this.results = results.map((item: string | any) =>\n      labelForDisplay ? item[labelForDisplay] : item\n    );\n    this.suggestionIndex = NO_INDEX;\n    if (!results || !results.length) {\n      this.activeResult = this.searchQuery;\n    }\n  }\n\n  filterEnterEvent(elementObs: Subject<KeyboardEvent>) {\n    elementObs.pipe(filter(isEnterKey)).subscribe((event: KeyboardEvent) => {\n      this.handleSelectSuggestion(this.activeResult);\n    });\n  }\n\n  navigateWithArrows(elementObs: Subject<KeyboardEvent>) {\n    elementObs\n      .pipe(\n        map((e: any) => e.key),\n        filter((key: Key) => validateArrowKeys(key))\n      )\n      .subscribe((key: Key) => {\n        this.updateIndex(key);\n        this.displaySuggestions();\n      });\n  }\n\n  updateIndex(keyCode: string) {\n    this.suggestionIndex = resolveNextIndex(\n      this.suggestionIndex,\n      keyCode === Key.ArrowDown,\n      this.results.length\n    );\n  }\n\n  displaySuggestions() {\n    this.showSuggestions = true;\n    this.cdr.markForCheck();\n  }\n\n  suggest(query: string) {\n    return this.taList.length\n      ? this.createListSource(this.taList, query)\n      : this.request(query);\n  }\n\n  /**\n   * peforms a jsonp/http request to search with query and params\n   * @param query the query to search from the remote source\n   */\n  request(query: string) {\n    const url = this.taUrl;\n    const searchConfig = createParamsForQuery(\n      query,\n      this.taQueryParam,\n      this.taParams\n    );\n    const options = {\n      params: searchConfig,\n    };\n    const isJsonpApi = this.taApi === 'jsonp';\n    return isJsonpApi\n      ? this.requestJsonp(url, options, this.taCallbackParamValue)\n      : this.requestHttp(url, options);\n  }\n\n  requestHttp(url: string, options) {\n    const apiMethod = resolveApiMethod(this.taApiMethod);\n    return this.http[apiMethod](url, options);\n  }\n\n  requestJsonp(url, options, callback = 'callback') {\n    const params = options.params.toString();\n    return this.http\n      .jsonp(`${url}?${params}`, callback)\n      .pipe(map(toJsonpSingleResult), map(toJsonpFinalResults));\n  }\n\n  markIsActive(index: number, result: string) {\n    const isActive = isIndexActive(index, this.suggestionIndex);\n    if (isActive) {\n      this.activeResult = result;\n    }\n    return isActive;\n  }\n\n  handleSelectionClick(suggestion: string, index: number) {\n    this.suggestionIndex = index;\n    this.handleSelectSuggestion(suggestion);\n  }\n\n  handleSelectSuggestion(suggestion: string) {\n    const result = this.resultsAsItems.length\n      ? this.resultsAsItems[this.suggestionIndex]\n      : suggestion;\n    this.hideSuggestions();\n    const resolvedResult =\n      this.suggestionIndex === NO_INDEX ? this.searchQuery : result;\n    this.taSelected.emit(resolvedResult);\n  }\n\n  hideSuggestions() {\n    this.showSuggestions = false;\n  }\n\n  hasItemTemplate() {\n    return this.taItemTpl !== undefined;\n  }\n\n  createListSource(list: any[], query: string): Observable<string[]> {\n    const sanitizedQuery = this.taCaseSensitive ? query : query.toLowerCase();\n    const fieldsToExtract = this.taListItemField;\n    return of(\n      list.filter((item: string | any) => {\n        return resolveItemValue(\n          item,\n          fieldsToExtract,\n          this.taCaseSensitive\n        ).includes(sanitizedQuery);\n      })\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule, HttpClientJsonpModule } from '@angular/common/http';\nimport { NgxTypeAheadComponent } from './ngx-typeahead.component';\n\n\n\n@NgModule({\n  declarations: [NgxTypeAheadComponent],\n  imports: [CommonModule, HttpClientModule, HttpClientJsonpModule],\n  exports: [NgxTypeAheadComponent, CommonModule]\n})\nexport class NgxTypeaheadModule { }\n","/*\n * Public API Surface of ngx-typeahead\n */\n\nexport * from './lib/ngx-typeahead.component';\nexport * from './lib/ngx-typeahead.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}